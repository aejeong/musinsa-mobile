{"version":3,"sources":["js/tabs.js"],"names":["tabsWrapper","document","querySelector","productsContainer","filterContainer","currentMainTabIdx","currentSubIdx","currentSubItemIdx","event","Event","init","settingTabs","settingSubTabs","tabEvent","subTabEvent","mainIdx","TABS","length","insertAdjacentHTML","title","_currentIdx","targetTab","subTabs","subIdx","subTabsWrapper","createElement","classList","add","idx","insertAdjacentElement","removeSubTabs","querySelectorAll","forEach","ele","remove","updateTabs","tabElement","isActivatedMainItem","children","dispatchEvent","updateSubTabs","subElement","isActivatedSubItem","i","onclick","e","_tabHandler","itemIdx","_subTabHandler","target","subItemElement","itemdx","_subTabScrollUpdate","console","dir","parentElement","moveToX","offsetLeft","scrollTo"],"mappings":"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","file":"tabs.ac0aca24.js","sourceRoot":"..","sourcesContent":["import { TABS } from '../index';\n\nconst tabsWrapper = document.querySelector('.main-tabs'); \nconst productsContainer = document.querySelector('.products-container');\nconst filterContainer = document.querySelector('.filter-container');\n\nexport let currentMainTabIdx = 0;\nexport let currentSubIdx = 0;\nexport let currentSubItemIdx = 0;\n\nlet event = new Event('tabChanged');\n\ninit();\n\nfunction init(){\n  settingTabs();\n  settingSubTabs(currentMainTabIdx);\n  tabEvent();\n  subTabEvent();\n}\n\nfunction settingTabs(){\n  for(let mainIdx =0; mainIdx < TABS.length; mainIdx++){\n    tabsWrapper.insertAdjacentHTML('beforeend',`\n    <div class=\"tab-item\"><button type=\"button\" class=\"btn-tab ${currentMainTabIdx === mainIdx && 'active' }\">${TABS[mainIdx].title}</button></div>\n    `)\n  }\n}\n\nfunction settingSubTabs(_currentIdx){\n  const targetTab = TABS[_currentIdx].subTabs;\n\n  if(_currentIdx !== currentMainTabIdx || !targetTab.length) return;\n\n  for(let subIdx=0; subIdx < targetTab.length; subIdx++){\n    const subTabsWrapper = document.createElement('div');\n    subTabsWrapper.classList.add('sub-tabsWrapper');\n    for(let idx=0; idx < targetTab[subIdx].length; idx++){\n      subTabsWrapper.insertAdjacentHTML('beforeend',`\n      <div class=\"tab-item ${currentSubItemIdx === idx && 'active'}\"><button type=\"button\" class=\"btn-tab btn-subTab\">${targetTab[subIdx][idx]}</button></div>\n      `)\n    }\n    productsContainer.insertAdjacentElement('beforeend',subTabsWrapper);\n  }\n}\n\nfunction removeSubTabs(){\n  const subTabs = document.querySelectorAll('.sub-tabsWrapper');\n  \n  subTabs.forEach((ele,idx)=>{\n    ele.remove();\n  })\n}\n\nfunction updateTabs(tabElement, idx){\n  const isActivatedMainItem = document.querySelector('.main-tabs .btn-tab.active');\n\n  // default active 제거\n  isActivatedMainItem.classList.remove('active');\n  filterContainer.classList.remove('active');\n  removeSubTabs();\n\n  currentSubItemIdx = 0;\n\n  // target main tab 활성화\n  tabElement.children[0].classList.add('active');\n  settingSubTabs(idx);\n  \n  document.dispatchEvent(event);\n\n  if(idx === 0){\n    filterContainer.classList.add('active');\n  }\n}\n\nfunction updateSubTabs(subElement, idx){\n  const isActivatedSubItem = document.querySelector('.sub-tabsWrapper .tab-item.active');\n\n  // active된 subTabs 비활성화\n  isActivatedSubItem.classList.remove('active');\n\n  // target된 subTab 활성화\n  subElement.classList.add('active');\n}\n\n  function tabEvent(){\n\n for(let i=0; i < tabsWrapper.children.length; i++){\n   tabsWrapper.children[i].onclick = (e) =>{\n    _tabHandler(e, tabsWrapper.children[i], i);\n  }\n }\n}\n\nfunction subTabEvent(){\n  const subTabsWrapper = [...document.querySelectorAll('.sub-tabsWrapper')];\n\n  for(let subIdx=0; subIdx < subTabsWrapper.length; subIdx++){\n    for(let itemIdx=0; itemIdx < subTabsWrapper[subIdx].children.length; itemIdx++){\n      subTabsWrapper[subIdx].children[itemIdx].onclick = (e)=> {\n        _subTabHandler(e, subTabsWrapper[subIdx].children[itemIdx],subIdx, itemIdx);\n      }\n    }\n  }\n}\n\nfunction _tabHandler(e, tabElement, idx){\n  if(!e.target || currentMainTabIdx === idx) return;\n\n  currentMainTabIdx = idx;\n  updateTabs(tabElement, currentMainTabIdx);\n}\n\nfunction _subTabHandler(e, subItemElement, subIdx, itemdx){\n  if(!e.target || currentSubItemIdx === itemdx) return;\n\n  currentSubIdx = subIdx;\n  currentSubItemIdx = itemdx;\n  updateSubTabs(subItemElement, currentSubItemIdx);\n  _subTabScrollUpdate(e, subItemElement)\n}\n\nfunction _subTabScrollUpdate(e, subItemElement){\n  console.dir(subItemElement.parentElement);\n  \n  const moveToX = e.target.offsetLeft;\n  if(e.target.offsetLeft >= 16 ) return subItemElement.parentElement.scrollTo(moveToX - 16,0);\n}"]}